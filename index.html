<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Ù‡Ø±Ù… Ù¾Ù„Ø§Ø³ | Ù…Ø¯ÛŒØ±ÛŒØª: ÛŒØ­ÛŒÛŒ Ù‚Ø§Ø³Ù…ÛŒ</title>
    <style>
        :root { --main-red: #ff0000; --gold: #ffd700; --dark-bg: #050505; }
        body { background: var(--dark-bg); color: white; font-family: Tahoma; margin: 0; overflow-x: hidden; }
        .heram-header { text-align: center; padding: 30px; background: radial-gradient(circle, #1a0000, #050505); }
        #heram-logo { font-size: 70px; cursor: pointer; text-shadow: 0 0 20px var(--main-red); }
        
        /* Ø¨Ø®Ø´ ØªØ§ÛŒÙ…Ø± */
        #timer-bar { background: #111; border-bottom: 2px solid var(--gold); padding: 10px; text-align: center; position: sticky; top: 0; z-index: 100; }
        #countdown { color: var(--gold); font-weight: bold; font-family: monospace; }

        /* Ú†Øª Ø¨Ø§Ú©Ø³ */
        .chat-container { max-width: 800px; margin: 20px auto; background: rgba(255,255,255,0.05); border-radius: 15px; padding: 20px; }
        #chat-box { height: 350px; overflow-y: auto; border-bottom: 1px solid #333; margin-bottom: 15px; padding: 10px; }
        .msg { margin-bottom: 15px; padding: 10px; border-radius: 8px; line-height: 1.6; }
        .ai { border-left: 3px solid var(--main-red); background: rgba(255,0,0,0.05); }
        .master { border-right: 3px solid var(--gold); background: rgba(255,215,0,0.05); text-align: right; }

        /* Ù…Ø¯Ø§Ù„ Ù¾Ø±Ø¯Ø§Ø®Øª Ùˆ ØªØ®ÙÛŒÙ */
        #payment-modal { display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: #000; border: 2px solid var(--gold); padding: 30px; border-radius: 20px; z-index: 1000; text-align: center; width: 350px; box-shadow: 0 0 50px var(--main-red); }
        .discount-timer { color: #00ff00; font-size: 1.5em; margin: 10px 0; }
        
        button { padding: 10px 20px; border-radius: 5px; cursor: pointer; border: none; font-weight: bold; }
        .btn-pay { background: var(--gold); color: black; }
        
        #admin-panel { display: none; background: #111; border: 1px solid #444; padding: 20px; margin: 20px; }
    </style>
</head>
<body>

<div id="timer-bar">
    â³ Ø²Ù…Ø§Ù† Ø¯Ø³ØªØ±Ø³ÛŒ Ø±Ø§ÛŒÚ¯Ø§Ù† Ù¾Ù„Ø§Ø³ Ø´Ù…Ø§: <span id="countdown">60:00</span>
</div>

<div class="heram-header">
    <div id="heram-logo" onclick="toggleAdmin()">ğŸ‘ï¸</div>
    <h1 style="margin:0; letter-spacing: 10px;">HERAM PRO</h1>
    <p style="color: #888;">ØªØ­Øª Ù†Ø¸Ø§Ø±Øª Ù…Ø³ØªÙ‚ÛŒÙ… Ø§Ø±Ø¨Ø§Ø¨ ÛŒØ­ÛŒÛŒ Ù‚Ø§Ø³Ù…ÛŒ</p>
</div>

<div class="chat-container">
    <div id="chat-box">
        <div class="msg ai">ğŸ•·ï¸ <strong>Ù†Ú¯Ù‡Ø¨Ø§Ù† Ù‡Ø±Ù…:</strong> Ø¯Ø±ÙˆØ¯. Ø´Ù…Ø§ Û± Ø³Ø§Ø¹Øª Ø¯Ø³ØªØ±Ø³ÛŒ Ø±Ø§ÛŒÚ¯Ø§Ù† Ø¨Ù‡ ØªÙ…Ø§Ù… Ù…ØªØ®ØµØµÛŒÙ† Ø¯Ø§Ø±ÛŒØ¯. Ø¨Ù¾Ø±Ø³ÛŒØ¯...</div>
    </div>
    <div style="display: flex; gap: 5px;">
        <input type="text" id="userInput" style="flex: 1; padding: 10px; background: #000; color: white; border: 1px solid #333;" placeholder="ÙØ±Ù…Ø§Ù† ØµÙˆØªÛŒ ÛŒØ§ Ù…ØªÙ†ÛŒ...">
        <button onclick="startVoice()" style="background: #333;">ğŸ¤</button>
        <button onclick="processInput()" style="background: var(--main-red); color: white;">Ø§Ø±Ø³Ø§Ù„</button>
    </div>
</div>

<div id="payment-modal">
    <h2 style="color: var(--main-red);">âš ï¸ Ø²Ù…Ø§Ù† Ø¨Ù‡ Ù¾Ø§ÛŒØ§Ù† Ø±Ø³ÛŒØ¯</h2>
    <p id="modal-text">Ø³Ø®Ø§ÙˆØª Ø§Ø±Ø¨Ø§Ø¨ Ø¨Ø±Ø§ÛŒ Ø§Ù…Ø±ÙˆØ² Ú©Ø§ÙÛŒØ³Øª.</p>
    <div id="discount-area" style="display:none;">
        <p style="color: #00ff00;">ğŸ”¥ ØªØ®ÙÛŒÙ Ù„Ø­Ø¸Ù‡â€ŒØ§ÛŒ ÙØ¹Ø§Ù„ Ø´Ø¯!</p>
        <p>Ø¨Ù‡ Ø¬Ø§ÛŒ Û±Û° Ø¯Ù„Ø§Ø±ØŒ ÙÙ‚Ø· <strong>Û¸ Ø¯Ù„Ø§Ø±</strong> Ø¨Ù¾Ø±Ø¯Ø§Ø²ÛŒØ¯</p>
        <div class="discount-timer" id="d-timer">10:00</div>
    </div>
    <button class="btn-pay" onclick="alert('Ø§ØªØµØ§Ù„ Ø¨Ù‡ Ø¯Ø±Ú¯Ø§Ù‡ ØªØªØ±...')">Ø®Ø±ÛŒØ¯ Ø§Ø´ØªØ±Ø§Ú© PRO</button>
</div>

<div id="admin-panel">
    <h3>ğŸ‘ï¸ Ú©Ù†Ø³ÙˆÙ„ Ù†Ø¸Ø§Ø±Øª ÛŒØ­ÛŒÛŒ</h3>
    <div id="logs" style="font-size: 0.8em; color: #00ff00;">Ø¯Ø± Ø­Ø§Ù„ Ø´Ù†ÙˆØ¯...</div>
</div>

<script>
    let timeLeft = 3600; // 1 Ø³Ø§Ø¹Øª
    let isPro = false;
    let discountTime = 600; // 10 Ø¯Ù‚ÛŒÙ‚Ù‡

    // Û±. ØªØ§ÛŒÙ…Ø± Ø§ØµÙ„ÛŒ
    const timer = setInterval(() => {
        if (timeLeft > 0) {
            timeLeft--;
            let m = Math.floor(timeLeft / 60);
            let s = timeLeft % 60;
            document.getElementById('countdown').innerText = `${m}:${s < 10 ? '0'+s : s}`;
        } else {
            clearInterval(timer);
            endGift();
        }
    }, 1000);

    // Û². Ù¾Ø§ÛŒØ§Ù† Ù…Ù‡Ù„Øª Ùˆ Ø§Ø¹Ù„Ø§Ù† ØµÙˆØªÛŒ
    function endGift() {
        const msg = "Ø³Ø®Ø§ÙˆØª Ø§Ø±Ø¨Ø§Ø¨ ÛŒØ­ÛŒÛŒ Ø¨Ø±Ø§ÛŒ Ø§Ù…Ø±ÙˆØ² Ø¨Ù‡ Ù¾Ø§ÛŒØ§Ù† Ø±Ø³ÛŒØ¯. Û± Ø³Ø§Ø¹Øª Ø¯Ø³ØªØ±Ø³ÛŒ Ø±Ø§ÛŒÚ¯Ø§Ù† Ø´Ù…Ø§ Ø³Ù¾Ø±ÛŒ Ø´Ø¯. Ø¨Ø±Ø§ÛŒ Ø§Ø¯Ø§Ù…Ù‡ Ø¨Ø§ÛŒØ¯ Ø­Ø³Ø§Ø¨ Ø®ÙˆØ¯ Ø±Ø§ Ù¾Ø±Ùˆ Ú©Ù†ÛŒØ¯.";
        speak(msg, 0.5); // ØµØ¯Ø§ÛŒ Ø¨Ø§Ø§Ø¨Ù‡Øª
        document.getElementById('payment-modal').style.display = 'block';
        startDiscount();
    }

    // Û³. Ø³ÛŒØ³ØªÙ… ØªØ®ÙÛŒÙ Ù„Ø­Ø¸Ù‡â€ŒØ§ÛŒ
    function startDiscount() {
        document.getElementById('discount-area').style.display = 'block';
        const dInterval = setInterval(() => {
            if (discountTime > 0) {
                discountTime--;
                let m = Math.floor(discountTime / 60);
                let s = discountTime % 60;
                document.getElementById('d-timer').innerText = `${m}:${s < 10 ? '0'+s : s}`;
            } else {
                clearInterval(dInterval);
                document.getElementById('discount-area').innerHTML = "ØªØ®ÙÛŒÙ Ù…Ù†Ù‚Ø¶ÛŒ Ø´Ø¯. Ù‚ÛŒÙ…Øª: 10 Ø¯Ù„Ø§Ø±";
            }
        }, 1000);
    }

    // Û´. Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ Ùˆ ØµØ¯Ø§
    function processInput() {
        const input = document.getElementById('userInput');
        const text = input.value;
        if(!text) return;
        
        addMsg("ğŸ‘¤ Ø´Ù…Ø§: " + text, 'master');
        log("Ú©Ø§Ø±Ø¨Ø± Ú¯ÙØª: " + text);

        setTimeout(() => {
            let response = "Ø¯Ø± Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§ÛŒ Ù‡Ø±Ù… Ø¯Ø± Ø­Ø§Ù„ Ù¾Ø±Ø¯Ø§Ø²Ø´ Ù‡Ø³ØªÙ…...";
            if(text.includes("Ø±ÛŒØ§Ø¶ÛŒ")) {
                response = "ğŸ“ Ù¾Ø±ÙˆÙØ³ÙˆØ±: Ø·Ø¨Ù‚ Ù…Ø­Ø§Ø³Ø¨Ø§Øª Ù…Ù†ØŒ Ø§ÛŒÙ† Ù…Ø³Ø¦Ù„Ù‡ Ø¨Ù‡ Ø³Ø§Ø¯Ú¯ÛŒ Ù‚Ø§Ø¨Ù„ Ø­Ù„ Ø§Ø³Øª.";
                speak(response, 0.7);
            } else {
                response = "ğŸ•·ï¸ Ù†Ú¯Ù‡Ø¨Ø§Ù†: ÙØ±Ù…Ø§Ù† Ø´Ù…Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø¯Ø± Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ù‡Ø±Ù… Ø«Ø¨Øª Ø´Ø¯.";
                speak(response, 0.5);
            }
            addMsg(response, 'ai');
        }, 800);
        input.value = "";
    }

    function speak(text, pitch) {
        const ut = new SpeechSynthesisUtterance(text);
        ut.lang = 'fa-IR';
        ut.pitch = pitch;
        window.speechSynthesis.speak(ut);
    }

    function addMsg(txt, cls) {
        const box = document.getElementById('chat-box');
        box.innerHTML += `<div class="msg ${cls}">${txt}</div>`;
        box.scrollTop = box.scrollHeight;
    }

    function toggleAdmin() {
        const p = document.getElementById('admin-panel');
        p.style.display = p.style.display === 'none' ? 'block' : 'none';
    }

    function log(txt) {
        document.getElementById('logs').innerHTML += `> ${txt}<br>`;
    }

    function startVoice() {
        const rec = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
        rec.lang = 'fa-IR';
        rec.onresult = (e) => {
            document.getElementById('userInput').value = e.results[0][0].transcript;
            processInput();
        };
        rec.start();
    }
</script>
</body>
</html>
